<!DOCTYPE html>
<html lang="en">
<head>
  <%- include('./partials/head') %>
</head>

<body>
  <%- include('./partials/header') %>
  <main class="form-signin">
    <h1 class="form-title h3 mb-3 fw-normal">Estás editando:<br><i><%=ProductoaEditar.nombre %></i></h1>
    <form method="post" action="/products/edit/<%=ProductoaEditar.id%>?_method=PUT" >
      <div class="form-group">
        <label for="productName">Nombre de producto</label>
        <input value="<%=ProductoaEditar.nombre%>" type="text" class="form-control" id="productName" name="productName" >
      </div>
      <div class="form-group">
        <label for="productDescription">Descripción del producto</label>
        <input type="textarea" value="<%=ProductoaEditar.descripcion %>" class="form-control" id="productDescription" name="productDescription" rows="3"></input>
      </div>
      <div class="form-group">
        <label for="Categorias">Categorías de productos</label>
        <select multiple class="form-control" id="categorias" name="categorias">
          <%
          cate = ["Mujeres", "Hombres", "Invierno", "Verano"];
            for ( let i = 0; i < cate.length; i++ )
            {
                let isSelected = ( ProductoaEditar.categories == cate[i] ) ? "selected" : "";
            %>
                <option value="<%=cate[i]%>" <%=isSelected %>>
                    <%= cate[i] %>
                </option>
            <%
            }
            %>
        </select>
      </div>
      <div class="form-group">
        <label for="talle">Seleccionar Talle</label>
        <select class="form-select" name="talle" id="talle">
          <% for( let i = 0; i < talles.length; i++ ) { %>
            <%if ( talles[i].id == ProductoaEditar.id_talle) { %>
              <option value="<%= talles[i].id %>" selected><%= talles[i].descripcion %></option>
              <% } else { %>
                <option value="<%= talles[i].id %>"><%= talles[i].descripcion %></option>
                <% } %>
          <% } %>
        </select>
      </div>
      <div class="form-group">
        <label for="color">Colores disponibles</label>
        <select class="form-select" id="color" name="color">
          <%for ( let i = 0; i < colores.length; i++ ) { %>
            <%if ( colores[i].id == ProductoaEditar.id_color) { %>
              <option value="<%= colores[i].id %>" selected><%= colores[i].descripcion   %></option>
              <% } else { %>
                <option value="<%= colores[i].id %>"><%= colores[i].descripcion   %></option>
                <% } %>
          <% } %>
          </select>
      </div>

      <div class="form-group">
        <label for="productPrice">Precio de venta $</label>
        <input value="<%=ProductoaEditar.precio %>" type="number" class="form-control" id="productPrice" name="productPrice" >
      </div>
       <div class="form-group">
        <label for="productImage">Imagen del producto</label>
        <input type="file" class="form-control-file" id="productImage" name="productImage">
      </div>
      <br>
      <button class="btn-enviar w-100 " type="submit">Actualizar</button>
    </form>
    <form method="post" action="/products/edit/<%=ProductoaEditar.id%>?_method=DELETE" >
    <button class="btn-borrar w-100 " type="submit">Eliminar</button>
    </form>
  </main>

<%- include('./partials/footer') %>
</body>
</html>